fragment EditableContentComponent on ContentComponent {
  ... on TextContent {
    id
    denomination
    is_required
    content
  }
  ... on VideoContent {
    id
    denomination
    is_required
    url
  }
}

fragment EditableLesson on Lesson {
  id
  denomination
  duration
  components {
    ...EditableContentComponent
  }
}

fragment EditableCourse on Course {
  id
  denomination
  slug
  subtitle
  description
  level
  image
  language
  external_resource_link
  external_meeting_link
  is_published
  start_date
  end_date
  subjects {
    id
    denomination
  }
  objectives {
    id
    objective
  }
  requirements {
    id
    requirement
  }
  sections {
    id
    denomination
    is_published
    items {
      ... on Lesson {
        ...EditableLesson
      }
    }
  }
}

query EditableCourse($id: ID!) {
  editableCourse(id: $id) {
    ...EditableCourse
  }
  languages {
    id
    denomination
    code
  }
}

mutation UpdateCourse($updateCourseInfo: UpdateCourseInfoInput!) {
  updateCourse(updateCourseInfo: $updateCourseInfo) {
    success
    errors {
      message
    }
    course {
      ...EditableCourse
    }
  }
}

mutation DeleteCourse($id: ID!) {
  deleteCourse(id: $id) {
    success
    errors {
      message
    }
  }
}
