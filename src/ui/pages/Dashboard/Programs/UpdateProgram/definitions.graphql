fragment Subject on Subject {
  id
  denomination
}

fragment ProgramCourse on Course {
  id
  denomination
  image
  slug
  level
  updated_at
}

fragment EditableProgram on Program {
  id
  denomination
  slug
  subtitle
  description
  level
  image
  is_published
  subjects {
    ...Subject
  }
  objectives {
    id
    objective
  }
  requirements {
    id
    requirement
  }
  courses {
    ...ProgramCourse
  }
}

query EditableProgram($id: ID!) {
  editableProgram(id: $id) {
    ...EditableProgram
  }
  teacherCourses {
    ...ProgramCourse
  }
  subjects {
    ...Subject
  }
}

mutation UpdateProgram($updateProgramInfo: UpdateProgramInfoInput!) {
  updateProgram(updateProgramInfo: $updateProgramInfo) {
    success
    errors {
      message
    }
    program {
      ...EditableProgram
    }
  }
}

mutation DeleteProgram($id: ID!) {
  deleteProgram(id: $id) {
    success
    errors {
      message
    }
  }
}

mutation UpdateProgramCourseRanks($programId: ID!, $courseRanks: [UpdateProgramCourseRankInput!]!) {
  updateProgramCourseRanks(programId: $programId, courseRanks: $courseRanks) {
    success
    errors {
      message
    }
  }
}
